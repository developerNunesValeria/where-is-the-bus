import { __decorate, __metadata, __param } from "tslib";
import { Directive, Inject, ElementRef } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { Directionality } from '@angular/cdk/bidi';
import { NgScrollbar } from '../../ng-scrollbar';
import { ThumbAdapter } from './thumb';
let ThumbXDirective = class ThumbXDirective extends ThumbAdapter {
    constructor(cmp, element, document, dir) {
        super(cmp, element.nativeElement, document);
        this.cmp = cmp;
        this.element = element;
        this.document = document;
        this.dir = dir;
    }
    get clientProperty() {
        return 'clientX';
    }
    get pageProperty() {
        return 'pageX';
    }
    get viewportScrollSize() {
        return this.cmp.viewport.scrollWidth;
    }
    get viewportScrollOffset() {
        return this.cmp.viewport.scrollLeft;
    }
    get viewportScrollMax() {
        return this.cmp.viewport.scrollMaxX;
    }
    get dragStartOffset() {
        return this.clientRect.left;
    }
    get size() {
        return this.thumbElement.clientWidth;
    }
    updateStyles(position, size) {
        this.thumbElement.style.width = `${size}px`;
        this.thumbElement.style.transform = `translate3d(${position}px, 0, 0)`;
    }
    handleDrag(position, scrollMax) {
        if (this.dir.value === 'rtl') {
            if (this.cmp.manager.rtlScrollAxisType === 1 /* NEGATED */) {
                return position - scrollMax;
            }
            if (this.cmp.manager.rtlScrollAxisType === 2 /* INVERTED */) {
                return scrollMax - position;
            }
            // Keeping this as a memo
            // if (this.rtlScrollAxisType === RtlScrollAxisType.NORMAL) {
            //   return position;
            // }
        }
        return position;
    }
    handleDirection(position, trackMax) {
        if (this.dir.value === 'rtl') {
            if (this.cmp.manager.rtlScrollAxisType === 2 /* INVERTED */) {
                return -position;
            }
            if (this.cmp.manager.rtlScrollAxisType === 0 /* NORMAL */) {
                return position - trackMax;
            }
            // Keeping this as a memo
            // if (this.rtlScrollAxisType === RtlScrollAxisType.NEGATED) {
            //   return position;
            // }
        }
        return position;
    }
    setDragging(value) {
        this.cmp.setDragging({ horizontalDragging: value });
    }
    scrollTo(position) {
        this.cmp.viewport.scrollXTo(position);
    }
};
ThumbXDirective.ctorParameters = () => [
    { type: NgScrollbar },
    { type: ElementRef },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
    { type: Directionality }
];
ThumbXDirective = __decorate([
    Directive({ selector: '[scrollbarThumbX]' }),
    __param(2, Inject(DOCUMENT)),
    __metadata("design:paramtypes", [NgScrollbar,
        ElementRef, Object, Directionality])
], ThumbXDirective);
export { ThumbXDirective };
let ThumbYDirective = class ThumbYDirective extends ThumbAdapter {
    constructor(cmp, element, document) {
        super(cmp, element.nativeElement, document);
        this.cmp = cmp;
        this.element = element;
        this.document = document;
    }
    get pageProperty() {
        return 'pageY';
    }
    get viewportScrollSize() {
        return this.cmp.viewport.scrollHeight;
    }
    get viewportScrollOffset() {
        return this.cmp.viewport.scrollTop;
    }
    get viewportScrollMax() {
        return this.cmp.viewport.scrollMaxY;
    }
    get clientProperty() {
        return 'clientY';
    }
    get dragStartOffset() {
        return this.clientRect.top;
    }
    get size() {
        return this.thumbElement.clientHeight;
    }
    updateStyles(position, size) {
        this.thumbElement.style.height = `${size}px`;
        this.thumbElement.style.transform = `translate3d(0px, ${position}px, 0)`;
    }
    handleDrag(position) {
        return position;
    }
    handleDirection(position) {
        return position;
    }
    setDragging(value) {
        this.cmp.setDragging({ verticalDragging: value });
    }
    scrollTo(position) {
        this.cmp.viewport.scrollYTo(position);
    }
};
ThumbYDirective.ctorParameters = () => [
    { type: NgScrollbar },
    { type: ElementRef },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
ThumbYDirective = __decorate([
    Directive({ selector: '[scrollbarThumbY]' }),
    __param(2, Inject(DOCUMENT)),
    __metadata("design:paramtypes", [NgScrollbar,
        ElementRef, Object])
], ThumbYDirective);
export { ThumbYDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWIuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXNjcm9sbGJhci8iLCJzb3VyY2VzIjpbImxpYi9zY3JvbGxiYXIvdGh1bWIvdGh1bWIuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDakQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUd2QyxJQUFhLGVBQWUsR0FBNUIsTUFBYSxlQUFnQixTQUFRLFlBQVk7SUE4Qi9DLFlBQXNCLEdBQWdCLEVBQ2hCLE9BQW1CLEVBQ0QsUUFBYSxFQUMvQixHQUFtQjtRQUN2QyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFKeEIsUUFBRyxHQUFILEdBQUcsQ0FBYTtRQUNoQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ0QsYUFBUSxHQUFSLFFBQVEsQ0FBSztRQUMvQixRQUFHLEdBQUgsR0FBRyxDQUFnQjtJQUV6QyxDQUFDO0lBakNELElBQWMsY0FBYztRQUMxQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRUQsSUFBYyxZQUFZO1FBQ3hCLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxJQUFjLGtCQUFrQjtRQUM5QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztJQUN2QyxDQUFDO0lBRUQsSUFBYyxvQkFBb0I7UUFDaEMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7SUFD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QUM7SUFDeEMsQ0FBQztDQUNGLENBQUE7O1lBM0I0QixXQUFXO1lBQ1AsVUFBVTs0Q0FDNUIsTUFBTSxTQUFDLFFBQVE7O0FBaENqQixlQUFlO0lBRDNCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0lBaUM5QixXQUFBLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQTtxQ0FGRixXQUFXO1FBQ1AsVUFBVTtHQS9COUIsZUFBZSxDQXlEM0I7U0F6RFksZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgSW5qZWN0LCBFbGVtZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBSdGxTY3JvbGxBeGlzVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBEaXJlY3Rpb25hbGl0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9iaWRpJztcbmltcG9ydCB7IE5nU2Nyb2xsYmFyIH0gZnJvbSAnLi4vLi4vbmctc2Nyb2xsYmFyJztcbmltcG9ydCB7IFRodW1iQWRhcHRlciB9IGZyb20gJy4vdGh1bWInO1xuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbc2Nyb2xsYmFyVGh1bWJYXScgfSlcbmV4cG9ydCBjbGFzcyBUaHVtYlhEaXJlY3RpdmUgZXh0ZW5kcyBUaHVtYkFkYXB0ZXIge1xuXG4gIHByb3RlY3RlZCBnZXQgY2xpZW50UHJvcGVydHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2NsaWVudFgnO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBwYWdlUHJvcGVydHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ3BhZ2VYJztcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgdmlld3BvcnRTY3JvbGxTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbFdpZHRoO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCB2aWV3cG9ydFNjcm9sbE9mZnNldCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxMZWZ0O1xuICB9XG5cbiAgZ2V0IHZpZXdwb3J0U2Nyb2xsTWF4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbE1heFg7XG4gIH1cblxuICBnZXQgZHJhZ1N0YXJ0T2Zmc2V0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50UmVjdC5sZWZ0O1xuICB9XG5cbiAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50aHVtYkVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY21wOiBOZ1Njcm9sbGJhcixcbiAgICAgICAgICAgICAgcHJvdGVjdGVkIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByb3RlY3RlZCBkb2N1bWVudDogYW55LFxuICAgICAgICAgICAgICBwcm90ZWN0ZWQgZGlyOiBEaXJlY3Rpb25hbGl0eSkge1xuICAgIHN1cGVyKGNtcCwgZWxlbWVudC5uYXRpdmVFbGVtZW50LCBkb2N1bWVudCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlU3R5bGVzKHBvc2l0aW9uOiBudW1iZXIsIHNpemU6IG51bWJlcikge1xuICAgIHRoaXMudGh1bWJFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7c2l6ZX1weGA7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7cG9zaXRpb259cHgsIDAsIDApYDtcbiAgfVxuXG4gIHByb3RlY3RlZCBoYW5kbGVEcmFnKHBvc2l0aW9uOiBudW1iZXIsIHNjcm9sbE1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5kaXIudmFsdWUgPT09ICdydGwnKSB7XG4gICAgICBpZiAodGhpcy5jbXAubWFuYWdlci5ydGxTY3JvbGxBeGlzVHlwZSA9PT0gUnRsU2Nyb2xsQXhpc1R5cGUuTkVHQVRFRCkge1xuICAgICAgICByZXR1cm4gcG9zaXRpb24gLSBzY3JvbGxNYXg7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jbXAubWFuYWdlci5ydGxTY3JvbGxBeGlzVHlwZSA9PT0gUnRsU2Nyb2xsQXhpc1R5cGUuSU5WRVJURUQpIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbE1heCAtIHBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgLy8gS2VlcGluZyB0aGlzIGFzIGEgbWVtb1xuICAgICAgLy8gaWYgKHRoaXMucnRsU2Nyb2xsQXhpc1R5cGUgPT09IFJ0bFNjcm9sbEF4aXNUeXBlLk5PUk1BTCkge1xuICAgICAgLy8gICByZXR1cm4gcG9zaXRpb247XG4gICAgICAvLyB9XG4gICAgfVxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIHByb3RlY3RlZCBoYW5kbGVEaXJlY3Rpb24ocG9zaXRpb246IG51bWJlciwgdHJhY2tNYXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuZGlyLnZhbHVlID09PSAncnRsJykge1xuICAgICAgaWYgKHRoaXMuY21wLm1hbmFnZXIucnRsU2Nyb2xsQXhpc1R5cGUgPT09IFJ0bFNjcm9sbEF4aXNUeXBlLklOVkVSVEVEKSB7XG4gICAgICAgIHJldHVybiAtcG9zaXRpb247XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jbXAubWFuYWdlci5ydGxTY3JvbGxBeGlzVHlwZSA9PT0gUnRsU2Nyb2xsQXhpc1R5cGUuTk9STUFMKSB7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAtIHRyYWNrTWF4O1xuICAgICAgfVxuICAgICAgLy8gS2VlcGluZyB0aGlzIGFzIGEgbWVtb1xuICAgICAgLy8gaWYgKHRoaXMucnRsU2Nyb2xsQXhpc1R5cGUgPT09IFJ0bFNjcm9sbEF4aXNUeXBlLk5FR0FURUQpIHtcbiAgICAgIC8vICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgICAgLy8gfVxuICAgIH1cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0RHJhZ2dpbmcodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNtcC5zZXREcmFnZ2luZyh7IGhvcml6b250YWxEcmFnZ2luZzogdmFsdWUgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2Nyb2xsVG8ocG9zaXRpb246IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbFhUbyhwb3NpdGlvbik7XG4gIH1cbn1cblxuQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW3Njcm9sbGJhclRodW1iWV0nIH0pXG5leHBvcnQgY2xhc3MgVGh1bWJZRGlyZWN0aXZlIGV4dGVuZHMgVGh1bWJBZGFwdGVyIHtcblxuICBwcm90ZWN0ZWQgZ2V0IHBhZ2VQcm9wZXJ0eSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAncGFnZVknO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCB2aWV3cG9ydFNjcm9sbFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCB2aWV3cG9ydFNjcm9sbE9mZnNldCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxUb3A7XG4gIH1cblxuICBnZXQgdmlld3BvcnRTY3JvbGxNYXgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsTWF4WTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgY2xpZW50UHJvcGVydHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2NsaWVudFknO1xuICB9XG5cbiAgZ2V0IGRyYWdTdGFydE9mZnNldCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFJlY3QudG9wO1xuICB9XG5cbiAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50aHVtYkVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGNtcDogTmdTY3JvbGxiYXIsXG4gICAgICAgICAgICAgIHByb3RlY3RlZCBlbGVtZW50OiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICBASW5qZWN0KERPQ1VNRU5UKSBwcm90ZWN0ZWQgZG9jdW1lbnQ6IGFueSkge1xuICAgIHN1cGVyKGNtcCwgZWxlbWVudC5uYXRpdmVFbGVtZW50LCBkb2N1bWVudCk7XG4gIH1cblxuXG4gIHByb3RlY3RlZCB1cGRhdGVTdHlsZXMocG9zaXRpb246IG51bWJlciwgc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7c2l6ZX1weGA7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDBweCwgJHtwb3NpdGlvbn1weCwgMClgO1xuICB9XG5cbiAgcHJvdGVjdGVkIGhhbmRsZURyYWcocG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG5cbiAgcHJvdGVjdGVkIGhhbmRsZURpcmVjdGlvbihwb3NpdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0RHJhZ2dpbmcodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNtcC5zZXREcmFnZ2luZyh7IHZlcnRpY2FsRHJhZ2dpbmc6IHZhbHVlIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNjcm9sbFRvKHBvc2l0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxZVG8ocG9zaXRpb24pO1xuICB9XG59XG4iXX0=