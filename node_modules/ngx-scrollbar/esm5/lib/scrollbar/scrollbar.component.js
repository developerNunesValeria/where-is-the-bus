import { __decorate, __extends, __metadata, __param } from "tslib";
import { Component, Inject, NgZone, ChangeDetectionStrategy, ElementRef, ViewChild } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { Platform } from '@angular/cdk/platform';
import { TrackXDirective, TrackYDirective } from './track/track.directive';
import { ThumbXDirective, ThumbYDirective } from './thumb/thumb.directive';
import { NgScrollbar } from '../ng-scrollbar';
import { Scrollbar } from './scrollbar';
var ScrollbarY = /** @class */ (function (_super) {
    __extends(ScrollbarY, _super);
    function ScrollbarY(cmp, platform, document, zone) {
        var _this = _super.call(this, cmp, platform, document, zone) || this;
        _this.cmp = cmp;
        _this.platform = platform;
        _this.document = document;
        _this.zone = zone;
        return _this;
    }
    Object.defineProperty(ScrollbarY.prototype, "viewportScrollSize", {
        get: function () {
            return this.cmp.viewport.scrollHeight;
        },
        enumerable: true,
        configurable: true
    });
    ScrollbarY.prototype.setHovered = function (value) {
        this.cmp.setHovered({ verticalHovered: value });
    };
    ScrollbarY.prototype.onUpdated = function () {
    };
    ScrollbarY.ctorParameters = function () { return [
        { type: NgScrollbar },
        { type: Platform },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
        { type: NgZone }
    ]; };
    __decorate([
        ViewChild(TrackYDirective, { static: true }),
        __metadata("design:type", TrackYDirective)
    ], ScrollbarY.prototype, "track", void 0);
    __decorate([
        ViewChild(ThumbYDirective, { static: true }),
        __metadata("design:type", ThumbYDirective)
    ], ScrollbarY.prototype, "thumb", void 0);
    ScrollbarY = __decorate([
        Component({
            selector: 'scrollbar-y',
            host: { '[class.scrollbar-control]': 'true' },
            changeDetection: ChangeDetectionStrategy.OnPush,
            template: "\n    <div scrollbarTrackY class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbY [track]=\"track\" class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  ",
            styles: ["::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control{left:unset;right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"]
        }),
        __param(2, Inject(DOCUMENT)),
        __metadata("design:paramtypes", [NgScrollbar, Platform, Object, NgZone])
    ], ScrollbarY);
    return ScrollbarY;
}(Scrollbar));
export { ScrollbarY };
var ScrollbarX = /** @class */ (function (_super) {
    __extends(ScrollbarX, _super);
    function ScrollbarX(el, cmp, platform, document, zone) {
        var _this = _super.call(this, cmp, platform, document, zone) || this;
        _this.el = el;
        _this.cmp = cmp;
        _this.platform = platform;
        _this.document = document;
        _this.zone = zone;
        return _this;
    }
    Object.defineProperty(ScrollbarX.prototype, "viewportScrollSize", {
        get: function () {
            return this.cmp.viewport.scrollWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ScrollbarX.prototype, "thickness", {
        get: function () {
            return this.el.nativeElement.clientHeight;
        },
        enumerable: true,
        configurable: true
    });
    ScrollbarX.prototype.setHovered = function (value) {
        this.cmp.setHovered({ horizontalHovered: value });
    };
    ScrollbarX.prototype.onUpdated = function () {
        // Auto-height: Set root component height to content height
        this.cmp.nativeElement.style.height = this.cmp.appearance === 'standard'
            ? this.cmp.viewport.contentHeight + this.thickness + "px"
            : this.cmp.viewport.contentHeight + "px";
    };
    ScrollbarX.ctorParameters = function () { return [
        { type: ElementRef },
        { type: NgScrollbar },
        { type: Platform },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
        { type: NgZone }
    ]; };
    __decorate([
        ViewChild(TrackXDirective, { static: true }),
        __metadata("design:type", TrackXDirective)
    ], ScrollbarX.prototype, "track", void 0);
    __decorate([
        ViewChild(ThumbXDirective, { static: true }),
        __metadata("design:type", ThumbXDirective)
    ], ScrollbarX.prototype, "thumb", void 0);
    ScrollbarX = __decorate([
        Component({
            selector: 'scrollbar-x',
            host: { '[class.scrollbar-control]': 'true' },
            changeDetection: ChangeDetectionStrategy.OnPush,
            template: "\n    <div scrollbarTrackX class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbX [track]=\"track\" class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  ",
            styles: ["::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"]
        }),
        __param(3, Inject(DOCUMENT)),
        __metadata("design:paramtypes", [ElementRef,
            NgScrollbar,
            Platform, Object, NgZone])
    ], ScrollbarX);
    return ScrollbarX;
}(Scrollbar));
export { ScrollbarX };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1zY3JvbGxiYXIvIiwic291cmNlcyI6WyJsaWIvc2Nyb2xsYmFyL3Njcm9sbGJhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFHLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMzRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBYXhDO0lBQWdDLDhCQUFTO0lBU3ZDLG9CQUFtQixHQUFnQixFQUFZLFFBQWtCLEVBQThCLFFBQWEsRUFBWSxJQUFZO1FBQXBJLFlBQ0Usa0JBQU0sR0FBRyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQ3JDO1FBRmtCLFNBQUcsR0FBSCxHQUFHLENBQWE7UUFBWSxjQUFRLEdBQVIsUUFBUSxDQUFVO1FBQThCLGNBQVEsR0FBUixRQUFRLENBQUs7UUFBWSxVQUFJLEdBQUosSUFBSSxDQUFROztJQUVwSSxDQUFDO0lBTkQsc0JBQWMsMENBQWtCO2FBQWhDO1lBQ0UsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7UUFDeEMsQ0FBQzs7O09BQUE7SUFNUywrQkFBVSxHQUFwQixVQUFxQixLQUFjO1FBQ2pDLElBQUks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LE1BQU07WUFFL0MsUUFBUSxFQUFFLGtNQUlUOztTQUNGLENBQUM7UUFpQmEsV0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUE7eUNBSEwsVUFBVTtZQUNWLFdBQVc7WUFDSCxRQUFRLFVBQytCLE1BQU07T0FoQmxFLFVBQVUsQ0E4QnRCO0lBQUQsaUJBQUM7Q0FBQSxBQTlCRCxDQUFnQyxTQUFTLEdBOEJ4QztTQTlCWSxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIE5nWm9uZSwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIEVsZW1lbnRSZWYsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICdAYW5ndWxhci9jZGsvcGxhdGZvcm0nO1xuaW1wb3J0IHsgVHJhY2tYRGlyZWN0aXZlLCBUcmFja1lEaXJlY3RpdmUgfSBmcm9tICcuL3RyYWNrL3RyYWNrLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBUaHVtYlhEaXJlY3RpdmUsIFRodW1iWURpcmVjdGl2ZSB9IGZyb20gJy4vdGh1bWIvdGh1bWIuZGlyZWN0aXZlJztcbmltcG9ydCB7IE5nU2Nyb2xsYmFyIH0gZnJvbSAnLi4vbmctc2Nyb2xsYmFyJztcbmltcG9ydCB7IFNjcm9sbGJhciB9IGZyb20gJy4vc2Nyb2xsYmFyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc2Nyb2xsYmFyLXknLFxuICBob3N0OiB7ICdbY2xhc3Muc2Nyb2xsYmFyLWNvbnRyb2xdJzogJ3RydWUnIH0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBzdHlsZVVybHM6IFsnLi92ZXJ0aWNhbC5zY3NzJ10sXG4gIHRlbXBsYXRlOiBgXG4gICAgPGRpdiBzY3JvbGxiYXJUcmFja1kgY2xhc3M9XCJuZy1zY3JvbGxiYXItdHJhY2sge3tjbXAudHJhY2tDbGFzc319XCI+XG4gICAgICA8ZGl2IHNjcm9sbGJhclRodW1iWSBbdHJhY2tdPVwidHJhY2tcIiBjbGFzcz1cIm5nLXNjcm9sbGJhci10aHVtYiB7e2NtcC50aHVtYkNsYXNzfX1cIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYFxufSlcbmV4cG9ydCBjbGFzcyBTY3JvbGxiYXJZIGV4dGVuZHMgU2Nyb2xsYmFyIHtcblxuICBAVmlld0NoaWxkKFRyYWNrWURpcmVjdGl2ZSwgeyBzdGF0aWM6IHRydWUgfSkgcmVhZG9ubHkgdHJhY2s6IFRyYWNrWURpcmVjdGl2ZTtcbiAgQFZpZXdDaGlsZChUaHVtYllEaXJlY3RpdmUsIHsgc3RhdGljOiB0cnVlIH0pIHJlYWRvbmx5IHRodW1iOiBUaHVtYllEaXJlY3RpdmU7XG5cbiAgcHJvdGVjdGVkIGdldCB2aWV3cG9ydFNjcm9sbFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNtcDogTmdTY3JvbGxiYXIsIHByb3RlY3RlZCBwbGF0Zm9ybTogUGxhdGZvcm0sIEBJbmplY3QoRE9DVU1FTlQpIHByb3RlY3RlZCBkb2N1bWVudDogYW55LCBwcm90ZWN0ZWQgem9uZTogTmdab25lKSB7XG4gICAgc3VwZXIoY21wLCBwbGF0Zm9ybSwgZG9jdW1lbnQsIHpvbmUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNldEhvdmVyZWQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNtcC5zZXRIb3ZlcmVkKHsgdmVydGljYWxIb3ZlcmVkOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIG9uVXBkYXRlZCgpOiB2b2lkIHtcbiAgfVxufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzY3JvbGxiYXIteCcsXG4gIGhvc3Q6IHsgJ1tjbGFzcy5zY3JvbGxiYXItY29udHJvbF0nOiAndHJ1ZScgfSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHN0eWxlVXJsczogWycuL2hvcml6b250YWwuc2NzcyddLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgc2Nyb2xsYmFyVHJhY2tYIGNsYXNzPVwibmctc2Nyb2xsYmFyLXRyYWNrIHt7Y21wLnRyYWNrQ2xhc3N9fVwiPlxuICAgICAgPGRpdiBzY3JvbGxiYXJUaHVtYlggW3RyYWNrXT1cInRyYWNrXCIgY2xhc3M9XCJuZy1zY3JvbGxiYXItdGh1bWIge3tjbXAudGh1bWJDbGFzc319XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGBcbn0pXG5leHBvcnQgY2xhc3MgU2Nyb2xsYmFyWCBleHRlbmRzIFNjcm9sbGJhciB7XG5cbiAgQFZpZXdDaGlsZChUcmFja1hEaXJlY3RpdmUsIHsgc3RhdGljOiB0cnVlIH0pIHJlYWRvbmx5IHRyYWNrOiBUcmFja1hEaXJlY3RpdmU7XG4gIEBWaWV3Q2hpbGQoVGh1bWJYRGlyZWN0aXZlLCB7IHN0YXRpYzogdHJ1ZSB9KSByZWFkb25seSB0aHVtYjogVGh1bWJYRGlyZWN0aXZlO1xuXG4gIHByb3RlY3RlZCBnZXQgdmlld3BvcnRTY3JvbGxTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbFdpZHRoO1xuICB9XG5cbiAgZ2V0IHRoaWNrbmVzcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZixcbiAgICAgICAgICAgICAgcHVibGljIGNtcDogTmdTY3JvbGxiYXIsXG4gICAgICAgICAgICAgIHByb3RlY3RlZCBwbGF0Zm9ybTogUGxhdGZvcm0sXG4gICAgICAgICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByb3RlY3RlZCBkb2N1bWVudDogYW55LCBwcm90ZWN0ZWQgem9uZTogTmdab25lKSB7XG4gICAgc3VwZXIoY21wLCBwbGF0Zm9ybSwgZG9jdW1lbnQsIHpvbmUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNldEhvdmVyZWQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNtcC5zZXRIb3ZlcmVkKHsgaG9yaXpvbnRhbEhvdmVyZWQ6IHZhbHVlIH0pO1xuICB9XG5cbiAgb25VcGRhdGVkKCk6IHZvaWQge1xuICAgIC8vIEF1dG8taGVpZ2h0OiBTZXQgcm9vdCBjb21wb25lbnQgaGVpZ2h0IHRvIGNvbnRlbnQgaGVpZ2h0XG4gICAgdGhpcy5jbXAubmF0aXZlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNtcC5hcHBlYXJhbmNlID09PSAnc3RhbmRhcmQnXG4gICAgICA/IGAke3RoaXMuY21wLnZpZXdwb3J0LmNvbnRlbnRIZWlnaHQgKyB0aGlzLnRoaWNrbmVzc31weGBcbiAgICAgIDogYCR7dGhpcy5jbXAudmlld3BvcnQuY29udGVudEhlaWdodH1weGA7XG4gIH1cbn1cbiJdfQ==