!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/coercion"),require("@angular/cdk/platform"),require("rxjs"),require("rxjs/operators"),require("bezier-easing")):"function"==typeof define&&define.amd?define("ngx-scrollbar/smooth-scroll",["exports","@angular/core","@angular/common","@angular/cdk/coercion","@angular/cdk/platform","rxjs","rxjs/operators","bezier-easing"],e):e(((t=t||self)["ngx-scrollbar"]=t["ngx-scrollbar"]||{},t["ngx-scrollbar"]["smooth-scroll"]={}),t.ng.core,t.ng.common,t.ng.cdk.coercion,t.ng.cdk.platform,t.rxjs,t.rxjs.operators,t.BezierEasing)}(this,(function(t,e,r,o,n,l,i,c){"use strict";c=c&&c.hasOwnProperty("default")?c.default:c;var s=function(){return(s=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function a(t,e,r,o){var n,l=arguments.length,i=l<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,r,i):n(e,r))||i);return l>3&&i&&Object.defineProperty(e,r,i),i}function u(t,e){return function(r,o){e(r,o,t)}}function p(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var f=new e.InjectionToken("SMOOTH_SCROLL_OPTIONS"),h=function(){function t(t,e,r){this._document=t,this._platform=e,this._onGoingScrolls=new Map,this._defaultOptions=s({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},r)}return Object.defineProperty(t.prototype,"_w",{get:function(){return this._document.defaultView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_now",{get:function(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now},enumerable:!0,configurable:!0}),t.prototype._scrollElement=function(t,e,r){t.scrollLeft=e,t.scrollTop=r},t.prototype._getElement=function(t,e){return"string"==typeof t?(e||this._document).querySelector(t):o.coerceElement(t)},t.prototype._initSmoothScroll=function(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new l.Subject).get(t)},t.prototype._isFinished=function(t,e,r){return t.currentX!==t.x||t.currentY!==t.y||(e.next(),r(),!1)},t.prototype._interrupted=function(t,e){return l.merge(l.fromEvent(t,"wheel",{passive:!0,capture:!0}),l.fromEvent(t,"touchmove",{passive:!0,capture:!0}),e).pipe(i.take(1))},t.prototype._destroy=function(t,e){e.complete(),this._onGoingScrolls.delete(t)},t.prototype._step=function(t){var e=this;return new l.Observable((function(r){var o=(e._now()-t.startTime)/t.duration;o=o>1?1:o;var n=t.easing(o);t.currentX=t.startX+(t.x-t.startX)*n,t.currentY=t.startY+(t.y-t.startY)*n,e._scrollElement(t.scrollable,t.currentX,t.currentY),l.animationFrameScheduler.schedule((function(){return r.next(t)}))}))},t.prototype._applyScrollToOptions=function(t,e){var r=this;if(!e.duration)return this._scrollElement(t,e.left,e.top),Promise.resolve();var o=this._initSmoothScroll(t),n={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:null==e.left?t.scrollLeft:~~e.left,y:null==e.top?t.scrollTop:~~e.top,duration:e.duration,easing:c(e.easing.x1,e.easing.y1,e.easing.x2,e.easing.y2)};return new Promise((function(e){l.of(null).pipe(i.expand((function(){return r._step(n).pipe(i.takeWhile((function(t){return r._isFinished(t,o,e)})))})),i.takeUntil(r._interrupted(t,o)),i.finalize((function(){return r._destroy(t,o)}))).subscribe()}))},t.prototype.scrollTo=function(t,e){if(r.isPlatformBrowser(this._platform)){var o=this._getElement(t),l="rtl"===getComputedStyle(o).direction,i=n.getRtlScrollAxisType(),c=s(s(s({},this._defaultOptions),e),{left:null==e.left?l?e.end:e.start:e.left,right:null==e.right?l?e.start:e.end:e.right});return null!=c.bottom&&(c.top=o.scrollHeight-o.clientHeight-c.bottom),l&&0!==i?(null!=c.left&&(c.right=o.scrollWidth-o.clientWidth-c.left),2===i?c.left=c.right:1===i&&(c.left=c.right?-c.right:c.right)):null!=c.right&&(c.left=o.scrollWidth-o.clientWidth-c.right),this._applyScrollToOptions(o,c)}return Promise.resolve()},t.prototype.scrollToElement=function(t,e,r){var o=this._getElement(t),n=this._getElement(e,o),l=s(s({},r),{left:n.offsetLeft+(r.left||0),top:n.offsetTop+(r.top||0)});return n?this.scrollTo(o,l):Promise.resolve()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[r.DOCUMENT]}]},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[f]}]}]},t.ɵprov=e["ɵɵdefineInjectable"]({factory:function(){return new t(e["ɵɵinject"](r.DOCUMENT),e["ɵɵinject"](e.PLATFORM_ID),e["ɵɵinject"](f,8))},token:t,providedIn:"root"}),t=a([e.Injectable({providedIn:"root"}),u(0,e.Inject(r.DOCUMENT)),u(1,e.Inject(e.PLATFORM_ID)),u(2,e.Optional()),u(2,e.Inject(f)),p("design:paramtypes",[Object,Object,Object])],t)}(),m=function(){function t(t,e){this.element=t,this.smoothScroll=e}return t.prototype.scrollTo=function(t){return this.smoothScroll.scrollTo(this.element,t)},t.prototype.scrollToElement=function(t,e){return this.smoothScroll.scrollToElement(this.element,t,e)},t.ctorParameters=function(){return[{type:e.ElementRef},{type:h}]},t=a([e.Directive({selector:"[smoothScroll], [smooth-scroll]",exportAs:"smoothScroll"}),p("design:paramtypes",[e.ElementRef,h])],t)}(),d=function(){function t(){}return t=a([e.NgModule({declarations:[m],exports:[m]})],t)}();t.SMOOTH_SCROLL_OPTIONS=f,t.SmoothScroll=m,t.SmoothScrollManager=h,t.SmoothScrollModule=d,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-scrollbar-smooth-scroll.umd.min.js.map