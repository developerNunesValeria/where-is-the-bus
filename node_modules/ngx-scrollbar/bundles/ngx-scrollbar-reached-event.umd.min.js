!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/bidi"),require("ngx-scrollbar"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-scrollbar/reached-event",["exports","@angular/core","@angular/cdk/bidi","ngx-scrollbar","rxjs","rxjs/operators"],e):e(((t=t||self)["ngx-scrollbar"]=t["ngx-scrollbar"]||{},t["ngx-scrollbar"]["reached-event"]={}),t.ng.core,t.ng.cdk.bidi,t["ngx-scrollbar"],t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,n,o,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function l(t,e,r,n){var o,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(c<3?o(i):c>3?o(e,r,i):o(e,r))||i);return c>3&&i&&Object.defineProperty(e,r,i),i}function s(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var p=function(){function t(){}return t.reachedTop=function(e,r){return t.reached(-r.target.scrollTop,0,e)},t.reachedBottom=function(e,r){return t.reached(r.target.scrollTop+r.target.clientHeight,r.target.scrollHeight,e)},t.reachedStart=function(e,r,n,o){return"rtl"===n?1===o?t.reached(r.target.scrollLeft,0,e):2===o?t.reached(-r.target.scrollLeft,0,e):t.reached(r.target.scrollLeft+r.target.clientWidth,r.target.scrollWidth,e):t.reached(-r.target.scrollLeft,0,e)},t.reachedEnd=function(e,r,n,o){return"rtl"===n?1===o?t.reached(-(r.target.scrollLeft-r.target.clientWidth),r.target.scrollWidth,e):2===o?t.reached(-(r.target.scrollLeft+r.target.clientWidth),r.target.scrollWidth,e):t.reached(-r.target.scrollLeft,0,e):t.reached(r.target.scrollLeft+r.target.clientWidth,r.target.scrollWidth,e)},t.reached=function(t,e,r){return t>=e-r},t}(),d=function(){function t(t,e){var r=this;if(this.scrollbar=t,this.zone=e,this.offset=0,this.scrollEvent=new o.Subject,this.subscription=o.Subscription.EMPTY,this.reachedEvent=new o.Observable((function(t){return r.scrollReached().subscribe((function(e){return Promise.resolve().then((function(){return r.zone.run((function(){return t.next(e)}))}))}))})),!t)throw new Error("[NgScrollbarReached Directive]: Host element must be an NgScrollbar component.")}return t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.scrollReached=function(){var t,e=this;return this.scrollEvent.pipe(c.tap((function(e){return t=e})),c.map((function(t){return e.reached(e.offset,t)})),c.distinctUntilChanged(),c.filter((function(t){return t})),c.map((function(){return t})))},l([e.Input("reachedOffset"),u("design:type",Object)],t.prototype,"offset",void 0),t}(),h=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scrollbar=e,n.zone=r,n}return a(r,t),r.prototype.ngOnInit=function(){this.subscription=this.scrollbar.verticalScrolled.subscribe(this.scrollEvent)},r=l([s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone])],r)}(d),f=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scrollbar=e,n.zone=r,n}return a(r,t),r.prototype.ngOnInit=function(){this.subscription=this.scrollbar.horizontalScrolled.subscribe(this.scrollEvent)},r=l([s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone])],r)}(d),g=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scrollbar=e,n.zone=r,n.reachedTop=n.reachedEvent,n}return a(r,t),r.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},r.prototype.reached=function(t,e){return p.reachedTop(t,e)},r.ctorParameters=function(){return[{type:n.NgScrollbar,decorators:[{type:e.Optional}]},{type:e.NgZone}]},l([e.Output(),u("design:type",o.Observable)],r.prototype,"reachedTop",void 0),r=l([e.Directive({selector:"[reachedTop], [reached-top]"}),s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone])],r)}(h),b=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scrollbar=e,n.zone=r,n.reachedBottom=n.reachedEvent,n}return a(r,t),r.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},r.prototype.reached=function(t,e){return p.reachedBottom(t,e)},r.ctorParameters=function(){return[{type:n.NgScrollbar,decorators:[{type:e.Optional}]},{type:e.NgZone}]},l([e.Output(),u("design:type",o.Observable)],r.prototype,"reachedBottom",void 0),r=l([e.Directive({selector:"[reachedBottom], [reached-bottom]"}),s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone])],r)}(h),y=function(t){function c(e,r,n){var o=t.call(this,e,r)||this;return o.scrollbar=e,o.zone=r,o.dir=n,o.reachedStart=o.reachedEvent,o}return a(c,t),c.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},c.prototype.reached=function(t,e){return p.reachedStart(t,e,this.dir.value,this.scrollbar.manager.rtlScrollAxisType)},c.ctorParameters=function(){return[{type:n.NgScrollbar,decorators:[{type:e.Optional}]},{type:e.NgZone},{type:r.Directionality}]},l([e.Output(),u("design:type",o.Observable)],c.prototype,"reachedStart",void 0),c=l([e.Directive({selector:"[reachedStart], [reached-start]"}),s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone,r.Directionality])],c)}(f),v=function(t){function c(e,r,n){var o=t.call(this,e,r)||this;return o.scrollbar=e,o.zone=r,o.dir=n,o.reachedEnd=o.reachedEvent,o}return a(c,t),c.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},c.prototype.reached=function(t,e){return p.reachedEnd(t,e,this.dir.value,this.scrollbar.manager.rtlScrollAxisType)},c.ctorParameters=function(){return[{type:n.NgScrollbar,decorators:[{type:e.Optional}]},{type:e.NgZone},{type:r.Directionality}]},l([e.Output(),u("design:type",o.Observable)],c.prototype,"reachedEnd",void 0),c=l([e.Directive({selector:"[reachedEnd], [reached-end]"}),s(0,e.Optional()),u("design:paramtypes",[n.NgScrollbar,e.NgZone,r.Directionality])],c)}(f),O=function(){function t(){}return t=l([e.NgModule({imports:[n.NgScrollbarModule,r.BidiModule],declarations:[g,b,y,v],exports:[g,b,y,v]})],t)}();t.NgScrollbarReachedBottom=b,t.NgScrollbarReachedEnd=v,t.NgScrollbarReachedModule=O,t.NgScrollbarReachedStart=y,t.NgScrollbarReachedTop=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-scrollbar-reached-event.umd.min.js.map